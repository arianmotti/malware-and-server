import socket

def first_part(port = 3333):
    s = socket.socket()
    print("Socket successfully created")
    s.bind(('', port))
    print("Socket binded to %s" % port)
    s.listen(5)
    print("Socket is listening")
    while True:
        c, addr = s.accept()
        print(' connection from', addr)
        c.send('Hello client'.encode())
        c.close()
        break

def second_part(port= 3100):
    s = socket.socket()
    print("Socket successfully created")
    s.bind(('', port))
    print("Socket binded to %s" % port)
    s.listen(5)
    print("Socket is listening")
    while True:
        c, addr = s.accept()
        print(' connection from', addr)
        data = c.recvfrom(6000)
        print(f'Recieved client system info: {data}')
        c.send('Data recieved. GG EZ'.encode())
        c.close()
        break

def third_part(port= 3101):
    s = socket.socket()
    print("Socket successfully created")
    s.bind(('', port))
    print("Socket binded to %s" % port)
    s.listen(5)
    print("Socket is listening")
    while True:
        c, addr = s.accept()
        print('connection from', addr)
        while True:
            option = (input('What are you going to do?\t sysinfo\t close\n')).lower()
            c.send(option.encode())
            if option == 'sysinfo':
                data = c.recvfrom(6000)
                print(f'Recieved client system info: {data}')
                c.send('Data recieved. GG EZ!'.encode())
            elif option == 'close':
                c.send('close'.encode())
                c.close()
                print('Closing the connection...')
                break
        break
#part 1 
# first_part()
#part 2 
#second_part()
#part 3
third_part()